{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/karla/Desktop/kolmas/TheLastOne/FrontEnd/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/karla/Desktop/kolmas/TheLastOne/FrontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.push.js\";\nexport default {\n  data: function data() {\n    return {\n      body: ''\n    };\n  },\n  methods: {\n    addPost: function addPost() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var post, response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                post = {\n                  body: _this.body\n                };\n                _context.prev = 1;\n                _context.next = 4;\n                return fetch('http://localhost:3000/post/add-post', {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify(post)\n                });\n              case 4:\n                response = _context.sent;\n                if (response.ok) {\n                  _context.next = 9;\n                  break;\n                }\n                throw new Error(\"HTTP error!: \".concat(response.status));\n              case 9:\n                _this.body = '';\n                _this.$router.push('/'); // Replace '/posts' with the path to your 'all posts' page\n              case 11:\n                _context.next = 16;\n                break;\n              case 13:\n                _context.prev = 13;\n                _context.t0 = _context[\"catch\"](1);\n                console.error(_context.t0);\n                // Handle the error appropriately\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 13]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;AAWE,eAAe;EACbA,IAAI,kBAAG;IACL,OAAO;MACLC,IAAI,EAAE;IACR;EACF,CAAC;EACDC,OAAO,EAAE;IACDC,OAAO,qBAAG;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACRC,IAAG,GAAI;kBACXH,IAAI,EAAE,KAAI,CAACA;gBACb;gBAAA;gBAAA;gBAAA,OAEyBI,KAAK,CAAC,qCAAqC,EAAE;kBAClEC,MAAM,EAAE,MAAM;kBACdC,OAAO,EAAE;oBACP,cAAc,EAAE;kBAClB,CAAC;kBACDN,IAAI,EAAEO,IAAI,CAACC,SAAS,CAACL,IAAI;gBAC3B,CAAC,CAAC;cAAA;gBANIM,QAAO;gBAAA,IAQRA,QAAQ,CAACC,EAAE;kBAAA;kBAAA;gBAAA;gBAAA,MACR,IAAIC,KAAK,wBAAiBF,QAAQ,CAACG,MAAM,EAAG;cAAA;gBAElD,KAAI,CAACZ,IAAG,GAAI,EAAE;gBACd,KAAI,CAACa,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC,EAAE;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAG1BC,OAAO,CAACC,KAAK,aAAO;gBACpB;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEJ;EACF;AACF","names":["data","body","methods","addPost","post","fetch","method","headers","JSON","stringify","response","ok","Error","status","$router","push","console","error"],"sourceRoot":"","sources":["C:\\Users\\karla\\Desktop\\kolmas\\TheLastOne\\FrontEnd\\src\\views\\AddPost.vue"],"sourcesContent":["<template>\r\n    <div class=\"card\">\r\n      <h1>Add Post</h1>\r\n      <form @submit.prevent=\"addPost\">\r\n        <textarea v-model=\"body\" placeholder=\"Post Body\" required></textarea>\r\n        <button type=\"submit\">Submit</button>\r\n      </form>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        body: ''\r\n      }\r\n    },\r\n    methods: {\r\n      async addPost() {\r\n        const post = {\r\n          body: this.body\r\n        }\r\n        try {\r\n          const response = await fetch('http://localhost:3000/post/add-post', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(post)\r\n          });\r\n  \r\n          if (!response.ok) {\r\n            throw new Error(`HTTP error!: ${response.status}`);\r\n          } else {\r\n            this.body = '';\r\n            this.$router.push('/'); // Replace '/posts' with the path to your 'all posts' page\r\n          }\r\n        } catch (error) {\r\n          console.error(error);\r\n          // Handle the error appropriately\r\n        }\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  \r\n  \r\n  <style scoped>\r\n  .card {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 80%;\r\n    margin: 20px auto;\r\n    padding: 40px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 10px;\r\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\r\n  }\r\n  \r\n  form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n  }\r\n  \r\n  input, textarea {\r\n    margin-bottom: 10px;\r\n    height: 40px;\r\n  }\r\n  \r\n   button {\r\n     border-radius: 25px;\r\n     background-color: #4CAF50; /* Change to your preferred color */\r\n     color: white;\r\n     border: none;\r\n     padding: 15px 32px;\r\n     text-align: center;\r\n     text-decoration: none;\r\n     display: inline-block;\r\n     font-size: 16px;\r\n     margin: 4px 2px;\r\n     cursor: pointer;\r\n     transition-duration: 0.4s;\r\n   }\r\n  \r\n  button:hover {\r\n    background-color: #45a049;\r\n  }\r\n  </style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}